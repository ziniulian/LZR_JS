<html>
	<head>
		<title>库整合</title>
		<meta charset="utf-8" />
		<script src="../../src/LZR/JS/LZR.js"></script>

		<style type="text/css">
			.body {
				padding: 0;
				margin: 0;
			}
		</style>

		<script>
			function init() {
				LZR.ecTyp = 1;		// 记录类加载的文本信息
				LZR.curPath = "../../src/LZR/JS";
				LZR.load([
					"LZR.HTML.Base.Ctrl.SglScd",
					"LZR.Pro.Green.Airq.App.ReleaseSys.DatMod",
					"LZR.Base.Time",
					"LZR.HTML.Base.Ajax"
				]);

				var d = LZR.existedClasses;
				var txt = "var LZR = {};\n";
				for (var s in d) {
					if (s.match("/LZR") === null) {
						txt += d[s];
						txt += "\n\n";
						if (s == "LZR") {
							txt += "LZR.load = function () {};\n\n";
						}
					}
				}

				var fun = "function HelloWorld () {\n" + txt + "return LZR;}";
				var blob = new Blob([fun], {type:"text/text;charset=utf-8"});
				var u = URL.createObjectURL(blob);
				var a = document.createElement("a");
				a.innerText = "库整合已完成，请点击下载（function 格式）";
				a.download = "HelloWorld_fun.js";
				a.href = u;
				document.body.appendChild(a);

				document.body.appendChild(document.createElement("br"));

				var amd = "define([], function () {\n" + txt + "return LZR;});";
				var blob2 = new Blob([amd], {type:"text/text;charset=utf-8"});
				var u2 = URL.createObjectURL(blob2);
				var a2 = document.createElement("a");
				a2.innerText = "库整合已完成，请点击下载（AMD格式）";
				a2.download = "HelloWorld_AMD.js";
				a2.href = u2;
				document.body.appendChild(a2);
			}
		</script>
	</head>

	<body class="body" onload="init()">
	</body>
</html>
